{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","services/imagesApi.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","axios","defaults","baseURL","searchQuery","page","get","then","response","data","hits","Searchbar","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButton_label","SearchForm_input","autocomplete","autofocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","largeImageURL","src","alt","ImageGalleryItem_image","data-img","ImageGallery","images","onImgClick","onClick","map","id","Button","text","PreLoader","Backdrop","Loader","color","height","width","modalRoot","document","getElementById","Modal","handleKeyDown","code","onClose","handleBackDrop","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","currentPictures","isLoading","showModal","onChangeQuery","fetchImages","imagesApi","prevState","scrollTo","top","documentElement","scrollHeight","behavior","finally","toggleModal","nodeName","dataset","img","prevProps","length","ReactDOM","render","StrictMode"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,uBAAyB,mD,mBCAzGD,EAAOC,QAAU,CAAC,SAAW,yBAAyB,OAAS,yB,mBCA/DD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,IAAM,mB,mBCAxBD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,8KCC3BC,IAAMC,SAASC,QAAU,2BACzB,IAUe,EARQ,SAACC,EAAaC,GACnC,OAAOJ,IACJK,IADI,uCAHO,qCAGP,cAE0CF,EAF1C,8CAE2FC,IAE/FE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,S,uBC6BrBC,E,4MAnCbC,MAAQ,CAAEC,MAAO,I,EAEjBC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEH,MAAOE,EAAEE,OAAOC,S,EAGlCC,aAAe,SAAAJ,GACbA,EAAEK,iBACF,EAAKC,MAAMC,SAAS,EAAKV,MAAMC,OAC/B,EAAKG,SAAS,CAAEH,MAAO,M,4CAGzB,WACE,OACE,wBAAQU,UAAWC,IAAOb,UAA1B,SACE,uBAAMY,UAAWC,IAAOC,WAAYH,SAAUI,KAAKP,aAAnD,UACE,wBAAQQ,KAAK,SAASJ,UAAWC,IAAOI,iBAAxC,SACE,sBAAML,UAAWC,IAAOK,uBAAxB,sBAGF,uBACEN,UAAWC,IAAOM,iBAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZf,MAAOQ,KAAKd,MAAMC,MAClBqB,SAAUR,KAAKZ,wB,GA5BHqB,a,iBCWTC,EAXU,SAAC,GAAD,IAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,cAAjB,OACvB,oBAAIf,UAAWC,IAAOY,iBAAtB,SACE,qBACEG,IAAKF,EACLG,IAAI,GACJjB,UAAWC,IAAOiB,uBAClBC,WAAUJ,O,iBCODK,EAZM,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,WAAX,OACnB,oBAAItB,UAAWC,IAAOmB,aAAcG,QAASD,EAA7C,SACGD,EAAOG,KAAI,gBAAGC,EAAH,EAAGA,GAAIX,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,cAArB,OACV,cAAC,EAAD,CAEED,aAAcA,EACdC,cAAeA,GAFVU,S,iBCCEC,EANA,SAAC,GAAD,IAAGH,EAAH,EAAGA,QAASI,EAAZ,EAAYA,KAAZ,OACb,wBAAQ3B,UAAWC,IAAOyB,OAAQtB,KAAK,SAASmB,QAASA,EAAzD,SACGI,K,kCCSUC,EAVG,WAChB,OACE,qBAAK5B,UAAWC,IAAO4B,SAAvB,SACE,qBAAK7B,UAAWC,IAAO6B,OAAvB,SACE,cAAC,IAAD,CAAQ1B,KAAK,YAAY2B,MAAM,UAAUC,OAAQ,GAAIC,MAAO,U,iBCJ9DC,EAAYC,SAASC,eAAe,cAgC3BC,E,4MAtBbC,cAAgB,SAAA9C,GACC,WAAXA,EAAE+C,MACJ,EAAKzC,MAAM0C,W,EAIfC,eAAiB,SAAAjD,GACXA,EAAEkD,gBAAkBlD,EAAEE,QACxB,EAAKI,MAAM0C,W,uDAff,WACEG,OAAOC,iBAAiB,UAAWzC,KAAKmC,iB,kCAG1C,WACEK,OAAOE,oBAAoB,UAAW1C,KAAKmC,iB,oBAc7C,WACE,OAAOQ,uBACL,qBAAK9C,UAAWC,IAAO8C,QAASxB,QAASpB,KAAKsC,eAA9C,SACE,qBAAKzC,UAAWC,IAAOoC,MAAvB,SAA+BlC,KAAKL,MAAMkD,aAE5Cd,O,GAzBctB,aCkFLqC,E,4MA9Eb5D,MAAQ,CACNgC,OAAQ,GACRvC,KAAM,EACND,YAAa,GACbqE,gBAAiB,GACjBC,WAAW,EACXC,WAAW,G,EASbC,cAAgB,SAAA/D,GACd,EAAKG,SAAS,CAAEZ,YAAaS,EAAOR,KAAM,EAAGuC,OAAQ,M,EAGvDiC,YAAc,WACZ,MAA8B,EAAKjE,MAA3BP,EAAR,EAAQA,KAAMD,EAAd,EAAcA,YAEd,EAAKY,SAAS,CAAE0D,WAAW,IAC3BI,EACkB1E,EAAaC,GAC5BE,MAAK,SAAAG,GACJ,EAAKM,UAAS,SAAA+D,GAAS,MAAK,CAC1BnC,OAAO,GAAD,mBAAMmC,EAAUnC,QAAhB,YAA2BlC,IACjCL,KAAM0E,EAAU1E,KAAO,MAEzB6D,OAAOc,SAAS,CACdC,IAAKvB,SAASwB,gBAAgBC,aAC9BC,SAAU,cAGbC,SAAQ,kBAAM,EAAKrE,SAAS,CAAE0D,WAAW,Q,EAG9CY,YAAc,WACZ,EAAKtE,UAAS,SAAA+D,GAAS,MAAK,CAC1BJ,WAAYI,EAAUJ,e,EAI1B9B,WAAa,SAAA9B,GACe,QAAtBA,EAAEE,OAAOsE,WAGb,EAAKvE,SAAS,CACZyD,gBAAiB1D,EAAEE,OAAOuE,QAAQC,MAEpC,EAAKH,gB,wDA1CP,SAAmBI,EAAWX,GACxBA,EAAU3E,cAAgBsB,KAAKd,MAAMR,aACvCsB,KAAKmD,gB,oBA2CT,WACE,MAA0DnD,KAAKd,MAAvDgC,EAAR,EAAQA,OAAQ8B,EAAhB,EAAgBA,UAAWC,EAA3B,EAA2BA,UAAWF,EAAtC,EAAsCA,gBACtC,OACE,sBAAKlD,UAAWC,IAAOgD,IAAvB,UACE,cAAC,EAAD,CAAWlD,SAAUI,KAAKkD,gBAE1B,cAAC,EAAD,CAAchC,OAAQA,EAAQC,WAAYnB,KAAKmB,aAC9C8B,GACC,cAAC,EAAD,CAAOZ,QAASrC,KAAK4D,YAArB,SACE,qBAAK/C,IAAKkC,EAAiBjC,IAAI,0BAGlCkC,GAAa,cAAC,EAAD,IACb9B,EAAO+C,OAAS,IAAMjB,GACrB,cAAC,EAAD,CACE5B,QAASpB,KAAKmD,YACd3B,KAAMwB,EAAY,aAAe,qB,GAvE3BvC,aCJlByD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFpC,SAASC,eAAe,U,kBCR1B5D,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,uBAAyB,0CAA0C,iBAAmB,uC","file":"static/js/main.f8901f64.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__21mK7\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3IMwz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Loader_Backdrop__3bsgX\",\"Loader\":\"Loader_Loader__3dYTi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3Z6pf\",\"Modal\":\"Modal_Modal__2o61n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2Rpuv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1U7Ea\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1AX9o\"};","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\nconst API_KEY = '21093401-486405d433525c61fcdc727ed';\r\n\r\nconst fetchImagesApi = (searchQuery, page) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?key=${API_KEY}&q=${searchQuery}&image_type=photo&per_page=12&page=${page}`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default { fetchImagesApi };\r\n","import React, { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = { query: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButton_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchForm_input}\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL }) => (\r\n  <li className={styles.ImageGalleryItem}>\r\n    <img\r\n      src={webformatURL}\r\n      alt=\"\"\r\n      className={styles.ImageGalleryItem_image}\r\n      data-img={largeImageURL}\r\n    />\r\n  </li>\r\n);\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, onImgClick }) => (\r\n  <ul className={styles.ImageGallery} onClick={onImgClick}>\r\n    {images.map(({ id, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        webformatURL={webformatURL}\r\n        largeImageURL={largeImageURL}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ onClick, text }) => (\r\n  <button className={styles.Button} type=\"button\" onClick={onClick}>\r\n    {text}\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport styles from './Loader.module.css';\r\n\r\nconst PreLoader = () => {\r\n  return (\r\n    <div className={styles.Backdrop}>\r\n      <div className={styles.Loader}>\r\n        <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PreLoader;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackDrop = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleBackDrop}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\nimport styles from './App.module.css';\nimport imagesApi from './services/imagesApi';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport PreLoader from './components/Loader';\nimport Modal from './components/Modal';\n\nclass App extends Component {\n  state = {\n    images: [],\n    page: 1,\n    searchQuery: '',\n    currentPictures: '',\n    isLoading: false,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query, page: 1, images: [] });\n  };\n\n  fetchImages = () => {\n    const { page, searchQuery } = this.state;\n\n    this.setState({ isLoading: true });\n    imagesApi\n      .fetchImagesApi(searchQuery, page)\n      .then(hits => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n          page: prevState.page + 1,\n        }));\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  onImgClick = e => {\n    if (e.target.nodeName !== 'IMG') {\n      return;\n    }\n    this.setState({\n      currentPictures: e.target.dataset.img,\n    });\n    this.toggleModal();\n  };\n\n  render() {\n    const { images, isLoading, showModal, currentPictures } = this.state;\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        <ImageGallery images={images} onImgClick={this.onImgClick} />\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={currentPictures} alt=\"Dont Worry Be Happy\" />\n          </Modal>\n        )}\n        {isLoading && <PreLoader />}\n        {images.length > 0 && !isLoading && (\n          <Button\n            onClick={this.fetchImages}\n            text={isLoading ? 'Loading...' : 'Load more'}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Urv5\",\"SearchForm\":\"Searchbar_SearchForm__1fIIk\",\"SearchFormButton\":\"Searchbar_SearchFormButton__33YNB\",\"SearchFormButton_label\":\"Searchbar_SearchFormButton_label__1ghYW\",\"SearchForm_input\":\"Searchbar_SearchForm_input__1deiW\"};"],"sourceRoot":""}